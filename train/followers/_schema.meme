%tab users id :TYP=INT;>0;username :DESC="Unique handle";:TYP=STR;email :DESC="User email";:TYP=STR;password_hash :DESC="Hashed password";:TYP=STR;created_at :DESC="Signup timestamp";:TYP=TS;updated_at :DESC="Last profile change";:TYP=TS;;%tab profiles id :TYP=INT;>0;user_id :DESC="Owner user id";:TYP=INT;>0;full_name :TYP=STR;bio :TYP=STR;location :TYP=STR;website :TYP=STR;avatar_url :TYP=STR;birthday :TYP=DATE;created_at :TYP=TS;updated_at :TYP=TS;;%tab follows id :TYP=INT;>0;follower_id :DESC="User who follows";:TYP=INT;>0;followee_id :DESC="User being followed";:TYP=INT;>0;created_at :TYP=TS;;%tab posts id :TYP=INT;>0;user_id :DESC="Author";:TYP=INT;>0;body :DESC="Post content";:TYP=STR;image_url :TYP=STR;visibility =public,friends,private;:TYP=STR;created_at :TYP=TS;updated_at :TYP=TS;;%tab comments id :TYP=INT;>0;post_id :DESC="Parent post";:TYP=INT;>0;user_id :DESC="Author";:TYP=INT;>0;parent_comment_id :DESC="Threaded parent";:TYP=INT;body :DESC="Comment text";:TYP=STR;created_at :TYP=TS;updated_at :TYP=TS;;%tab likes id :TYP=INT;>0;user_id :DESC="Who liked";:TYP=INT;>0;post_id :DESC="Liked post";:TYP=INT;>0;created_at :TYP=TS;;%tab messages id :TYP=INT;>0;sender_id :DESC="From user";:TYP=INT;>0;recipient_id :DESC="To user";:TYP=INT;>0;body :DESC="Message text";:TYP=STR;created_at :TYP=TS;read_flag :DESC="Read state";:TYP=BOOL;;%for users id _;profiles user_id @;follows follower_id @;follows followee_id @;posts user_id @;comments user_id @;messages sender_id @;messages recipient_id @;likes user_id @;;%for posts id _;comments post_id @;likes post_id @;;%for comments id _;comments parent_comment_id @;;%pri users id;;%uni users username;;%uni users email;;%pri profiles id;;%uni profiles user_id;;%pri follows id;;%pri posts id;;%pri comments id;;%pri likes id;;%pri messages id;;%uni follows follower_id;followee_id;;%uni likes user_id;post_id;;